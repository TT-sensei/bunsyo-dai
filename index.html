<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å†’é™ºã®æ‹ ç‚¹ - ç®—æ•°ã‚¯ã‚¨ã‚¹ãƒˆ</title>
    <style>
        body { font-family: 'Helvetica Neue', Arial, sans-serif; background-color: #e8f5e9; color: #333; margin: 0; padding-bottom: 50px; text-align: center; }
        .app-title { color: #2e7d32; font-size: 2rem; margin: 15px 0; text-shadow: 2px 2px 0px #fff; }
        .status-bar { background-color: #3e2723; color: #fff; padding: 15px; display: flex; justify-content: space-around; font-size: 1.2rem; font-weight: bold; box-shadow: 0 4px 6px rgba(0,0,0,0.3); border-radius: 10px; margin: 0 10px; }
        .title-text { color: #ffd54f; font-size: 0.9em; margin-left: 5px; }
        #main-content { margin: 20px auto; max-width: 650px; padding: 0 10px; }
        button { font-weight: bold; padding: 12px 18px; margin: 8px; border: none; border-radius: 8px; cursor: pointer; box-shadow: 0 5px 0 rgba(0,0,0,0.2); transition: transform 0.1s; }
        button:active { transform: translateY(5px); box-shadow: 0 0 0 rgba(0,0,0,0); }
        
        .quest-section { background-color: #fff8e1; padding: 20px; border-radius: 10px; border: 4px solid #8d6e63; margin-bottom: 30px; }
        .quest-btn { color: white; font-size: 1.1rem; width: 90%; padding: 15px; margin: 8px auto; display: block; }
        .btn-food { background-color: #e53935; }
        .btn-shop { background-color: #fb8c00; }
        .btn-ride { background-color: #1e88e5; }
        .btn-present { background-color: #8e24aa; }
        .btn-cave { background-color: #424242; border: 2px dashed #ffeb3b; color: #ffeb3b; }
        
        .gacha-section { background-color: #fce4ec; padding: 20px; border-radius: 10px; border: 4px dashed #f06292; margin-bottom: 30px; }
        .btn-gacha-play { background-color: #e53935; color: white; font-size: 1.3rem; padding: 15px 30px; }
        .gacha-display-area { font-size: 4rem; margin: 10px 0; min-height: 80px; }
        .message-area { font-size: 1.2em; font-weight: bold; margin-top: 10px; min-height: 1.5em; }
    </style>
</head>
<body>
    <h1 class="app-title">âš”ï¸ ç®—æ•°ã‚¯ã‚¨ã‚¹ãƒˆ âš”ï¸</h1>
    <header id="status-bar" class="status-bar">
        <div>ğŸŒŸ Lv: <span id="disp-level">1</span> <span id="disp-title" class="title-text">ï¼ˆã¿ãªã‚‰ã„ï¼‰</span></div>
        <div>âš”ï¸ EXP: <span id="disp-exp">0</span>/5</div>
        <div>ğŸª™ <span id="disp-coin">10</span>æš</div>
    </header>

    <main id="main-content">
        <section class="quest-section">
            <h2 style="color: #3e2723; margin-top: 0;">ğŸ—ºï¸ ã©ã“ã¸ ã¼ã†ã‘ã‚“ã« ã§ã‚‹ï¼Ÿ</h2>
            <button class="quest-btn btn-food" onclick="goToQuest('quest.html')">ğŸ ãŸã¹ã‚‚ã®ã®æ£®ï¼ˆã‚ã‚ã›ã‚‹ãƒ»ã‚ã‘ã‚‹ï¼‰</button>
            <button class="quest-btn btn-shop" onclick="goToQuest('quest.html')">ğŸª ãŠã¿ã›ã®æ‘ï¼ˆãŠã‹ã„ã‚‚ã®ï¼‰</button>
            <button class="quest-btn btn-ride" onclick="goToQuest('quest.html')">ğŸšƒ ã®ã‚Šã‚‚ã®ã®ç”ºï¼ˆæ™‚é–“ãƒ»ãã‚‡ã‚Šï¼‰</button>
            <button class="quest-btn btn-present" onclick="goToQuest('quest.html')">ğŸ ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã®åŸï¼ˆãã‚ƒãã•ã‚“ï¼‰</button>
            
            <hr style="border: 1px dashed #8d6e63; margin: 20px 0;">
            <p style="font-size: 0.9rem; margin: 0; color: #616161;">ã¾ã¡ãŒãˆãŸå•é¡ŒãŒ ã‚ã¤ã¾ã‚‹ ã°ã—ã‚‡â€¦</p>
            <button class="quest-btn btn-cave" onclick="alert('ä¿®è¡Œã®æ´çªŸã¸ï¼(ä»Šå›ã¯ãƒ†ã‚¹ãƒˆç”¨ã§ã™)')">ğŸ•³ï¸ ä¿®è¡Œã®æ´çªŸï¼ˆãƒ‹ã‚¬ãƒ†ã“ããµãï¼‰</button>
        </section>

        <section class="gacha-section">
            <h2 style="margin-top: 0; color: #c2185b;">ğŸ æ–‡ç« é¡Œã‚¬ãƒãƒ£</h2>
            <p style="font-size:0.9rem; color:#666;">ãƒ©ãƒ³ãƒ€ãƒ ãªå ´é¢ã®å•é¡ŒãŒå‡ºã‚‹ãï¼</p>
            <div class="gacha-display-area"><div id="gacha-result-emoji">â“</div></div>
            <button class="btn-gacha-play" onclick="playGacha()">ã‚¬ãƒãƒ£ã‚’ã¾ã‚ã™ï¼ˆ10ğŸª™ï¼‰</button>
            <div id="gacha-message" class="message-area"></div>
        </section>
    </main>

    <script>
        let level = parseInt(localStorage.getItem('saved_level')) || 1;
        let exp = parseInt(localStorage.getItem('saved_exp')) || 0;
        let coin = parseInt(localStorage.getItem('saved_coin')) || 10;
        const titles = [{ lv: 1, name: "ã¿ãªã‚‰ã„å†’é™ºå®¶" }, { lv: 2, name: "ã‹ã‘ã ã—ã®æ—…äºº" }, { lv: 3, name: "ã„ã£ã±ã—ã®æˆ¦å£«" }, { lv: 4, name: "ãƒ™ãƒ†ãƒ©ãƒ³æ¢ç´¢è€…" }];

        function updateStatus() {
            document.getElementById("disp-level").innerText = level;
            document.getElementById("disp-exp").innerText = exp;
            document.getElementById("disp-coin").innerText = coin;
            let currentTitle = titles[0].name;
            for(let i=0; i<titles.length; i++){ if(level >= titles[i].lv) currentTitle = titles[i].name; }
            document.getElementById("disp-title").innerText = "ï¼ˆ" + currentTitle + "ï¼‰";
            localStorage.setItem('saved_level', level); localStorage.setItem('saved_exp', exp); localStorage.setItem('saved_coin', coin);
        }

        function goToQuest(url) { setTimeout(() => { window.location.href = url; }, 150); }
        
        function playGacha() {
            if (coin < 10) { document.getElementById("gacha-message").innerText = "ã‚³ã‚¤ãƒ³ãŒè¶³ã‚Šãªã„ã‚ˆï¼"; return; }
            coin -= 10;
            const items = ["ğŸ ãŸã¹ã‚‚ã®å•é¡Œ!", "ğŸª ãŠã¿ã›å•é¡Œ!", "ğŸšƒ ã®ã‚Šã‚‚ã®å•é¡Œ!"];
            document.getElementById("gacha-result-emoji").innerText = items[Math.floor(Math.random()*items.length)];
            document.getElementById("gacha-message").innerText = "ç‰¹åˆ¥ãªå•é¡Œã«ã¡ã‚‡ã†ã›ã‚“ï¼";
            updateStatus();
        }
        updateStatus();
    </script>
</body>
</html>
